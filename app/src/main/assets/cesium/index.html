<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LocationMobile</title>
    <link href="https://unpkg.com/cesium@1.112/Build/Cesium/Widgets/widgets.css"
          rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { width: 100%; height: 100%; overflow: hidden; }
        #cesiumContainer { width: 100%; height: 100%; position: absolute; top: 0; left: 0; }

        /* â”€â”€ åº•éƒ¨æŒ‰é’®æ ï¼šä¸‰ä¸ªæŒ‰é’®æ°´å¹³å¹¶æ’ â”€â”€ */
        .control-panel {
            position: absolute;
            bottom: 28px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: row;
            gap: 10px;
        }
        .btn {
            padding: 11px 18px;
            font-size: 14px;
            font-weight: 600;
            color: #fff;
            background: rgba(20, 20, 40, 0.75);
            border: 1px solid rgba(255,255,255,0.18);
            border-radius: 22px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.35);
            transition: background 0.2s, transform 0.1s;
            touch-action: manipulation;
            white-space: nowrap;
        }
        .btn:active { transform: scale(0.94); }
        .btn.tracking-on {
            background: rgba(220, 50, 80, 0.75);
            border-color: rgba(255,100,100,0.4);
        }

        /* â”€â”€ å·¦ä¸Šè§’ä¿¡æ¯æ¡† â”€â”€ */
        .info-box {
            position: absolute;
            top: 70px;       /* å›¾å±‚æŒ‰é’®ä¸‹æ–¹ */
            left: 16px;
            background: rgba(10,10,25,0.82);
            color: #e8eaf0;
            padding: 11px 15px;
            border-radius: 10px;
            font-size: 13px;
            line-height: 1.7;
            max-width: 230px;
            z-index: 1000;
            display: none;
            border: 1px solid rgba(255,255,255,0.12);
            backdrop-filter: blur(8px);
        }
        .info-box.show { display: block; }

        /* â”€â”€ å›¾å±‚æŒ‰é’®ï¼ˆå·¦ä¸Šè§’å…¥å£ï¼‰ â”€â”€ */
        .layer-btn {
            position: absolute;
            top: 16px;
            left: 16px;
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 7px;
            padding: 9px 16px;
            background: rgba(10,10,25,0.82);
            border: 1px solid rgba(255,255,255,0.18);
            border-radius: 22px;
            color: #e8eaf0;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 4px 18px rgba(0,0,0,0.4);
            touch-action: manipulation;
            transition: background 0.2s;
            user-select: none;
        }
        .layer-btn:active { background: rgba(40,40,70,0.9); }
        .layer-btn svg { width: 16px; height: 16px; flex-shrink: 0; }

        /* â”€â”€ å›¾å±‚é€‰æ‹©å¼¹å‡ºé¢æ¿ â”€â”€ */
        .layer-panel {
            position: absolute;
            top: 58px;
            left: 16px;
            z-index: 1002;
            background: rgba(10,10,28,0.92);
            border: 1px solid rgba(255,255,255,0.14);
            border-radius: 14px;
            padding: 8px;
            display: none;
            flex-direction: column;
            gap: 4px;
            min-width: 190px;
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.5);
            animation: fadeDown 0.18s ease;
        }
        .layer-panel.show { display: flex; }

        @keyframes fadeDown {
            from { opacity: 0; transform: translateY(-6px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        /* é¢æ¿å†…æ¯ä¸ªåœ°å›¾é€‰é¡¹ */
        .layer-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 13px;
            border-radius: 9px;
            cursor: pointer;
            color: #c8cad8;
            font-size: 13.5px;
            font-weight: 500;
            transition: background 0.15s;
            touch-action: manipulation;
        }
        .layer-option:hover,
        .layer-option:active { background: rgba(255,255,255,0.08); }
        /* æ¿€æ´»çŠ¶æ€ */
        .layer-option.active {
            background: rgba(56, 189, 248, 0.15);
            color: #7dd3fc;
        }
        .layer-option.active .opt-icon { opacity: 1; }
        .layer-option .opt-icon {
            font-size: 18px;
            width: 24px;
            text-align: center;
            opacity: 0.7;
        }
        .layer-option .opt-label { flex: 1; }
        /* å·²é€‰ä¸­çš„å¯¹å· */
        .layer-option .opt-check {
            font-size: 13px;
            color: #38bdf8;
            opacity: 0;
            transition: opacity 0.15s;
        }
        .layer-option.active .opt-check { opacity: 1; }

        /* é¢æ¿åˆ†å‰²çº¿ */
        .layer-divider {
            height: 1px;
            background: rgba(255,255,255,0.08);
            margin: 2px 4px;
        }

        /* â”€â”€ åŠ è½½æç¤º â”€â”€ */
        .loading {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%,-50%);
            color: #e8eaf0;
            font-size: 16px;
            z-index: 999;
            background: rgba(10,10,28,0.85);
            padding: 18px 36px;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
            letter-spacing: 0.5px;
        }
    </style>
</head>
<body>

<div class="loading" id="loading">LocationMobile åŠ è½½ä¸­â€¦</div>
<div id="cesiumContainer"></div>

<!-- å·¦ä¸Šè§’ä¿¡æ¯æ¡† -->
<div class="info-box" id="infoBox"></div>

<!-- å›¾å±‚å…¥å£æŒ‰é’® -->
<button class="layer-btn" id="layerBtn" onclick="toggleLayerPanel()">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
         stroke-linecap="round" stroke-linejoin="round">
        <polygon points="12 2 2 7 12 12 22 7 12 2"/>
        <polyline points="2 17 12 22 22 17"/>
        <polyline points="2 12 12 17 22 12"/>
    </svg>
    å›¾å±‚
</button>

<!-- å›¾å±‚é€‰æ‹©é¢æ¿ï¼ˆé»˜è®¤éšè—ï¼‰ -->
<div class="layer-panel" id="layerPanel">
    <div class="layer-option active" id="opt-satellite" onclick="switchMap('satellite')">
        <span class="opt-icon">ğŸ›°ï¸</span>
        <span class="opt-label">å«æ˜Ÿå½±åƒ</span>
        <span class="opt-check">âœ“</span>
    </div>
    <div class="layer-option" id="opt-street" onclick="switchMap('street')">
        <span class="opt-icon">ğŸ—ºï¸</span>
        <span class="opt-label">è¡—é“åœ°å›¾</span>
        <span class="opt-check">âœ“</span>
    </div>
    <div class="layer-divider"></div>
    <div class="layer-option" id="opt-tdt" onclick="switchMap('tdt')">
        <span class="opt-icon">ğŸŒ</span>
        <span class="opt-label">å¤©åœ°å›¾ï¼ˆå¤‡ç”¨ï¼‰</span>
        <span class="opt-check">âœ“</span>
    </div>
</div>

<!-- åº•éƒ¨ä¸‰æŒ‰é’®å¹¶æ’ -->
<div class="control-panel">
    <button class="btn" onclick="requestLocation()">ğŸ“ è·å–ä½ç½®</button>
    <button class="btn" id="trackBtn" onclick="toggleTracking()">ğŸ¯ å¼€å§‹è·Ÿè¸ª</button>
    <button class="btn" onclick="clearMarkers()">ğŸ—‘ï¸ æ¸…é™¤æ ‡è®°</button>
</div>

<script src="https://unpkg.com/cesium@1.112/Build/Cesium/Cesium.js"></script>
<script>
    // â”€â”€ Cesium Ion Token â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlOTQ2M2Q5Zi1hNTIwLTRhODQtOTBhZS1lYzllOGFkYzQyYTUiLCJpZCI6Mzg2MTE1LCJpYXQiOjE3NzIxOTAwMjd9.JdlVK8FpTJd6SfQC-VnV30kUn77L1xCBL3ruBHUR3mE';

    // â”€â”€ å¤©åœ°å›¾ Tokenï¼ˆå‰å¾€ https://console.tianditu.gov.cn å…è´¹ç”³è¯·åå¡«å…¥ï¼‰â”€â”€
    const TDT_TOKEN = '';

    // â”€â”€ ç“¦ç‰‡æºå·¥å‚å‡½æ•° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    /** å«æ˜Ÿå½±åƒï¼šEsri World Imageryï¼ˆå…¨çƒé«˜æ¸…å«æ˜Ÿï¼Œæ— éœ€ Tokenï¼Œå›½å†…å¯ç”¨ï¼‰
     *  Cesium 1.112 ä¸­ ArcGisMapServerImageryProvider æ”¹ä¸ºå¼‚æ­¥ï¼Œ
     *  æ”¹ç”¨ UrlTemplateImageryProvider è°ƒç”¨ Esri ç“¦ç‰‡æ¥å£ï¼Œå…¼å®¹æ‰€æœ‰ç‰ˆæœ¬
     */
    function createSatelliteProvider() {
        return new Cesium.UrlTemplateImageryProvider({
            url: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
            credit: 'Esri World Imagery',
            maximumLevel: 19
        });
    }

    /** è¡—é“åœ°å›¾ï¼šOSMï¼ˆç½‘ç»œæ­£å¸¸æ—¶ï¼‰ */
    function createStreetProvider() {
        return new Cesium.UrlTemplateImageryProvider({
            url: 'https://tile.openstreetmap.org/{z}/{x}/{y}.png',
            credit: 'OpenStreetMap contributors',
            maximumLevel: 19
        });
    }

    /** å¤©åœ°å›¾å«æ˜Ÿå½±åƒï¼ˆç½‘ç»œé—®é¢˜æ—¶å¤‡ç”¨ï¼Œéœ€å¡« Tokenï¼‰ */
    function createTdtProvider() {
        return new Cesium.UrlTemplateImageryProvider({
            url: `https://t{s}.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${TDT_TOKEN}`,
            subdomains: ['0','1','2','3','4','5','6','7'],
            credit: 'å¤©åœ°å›¾',
            maximumLevel: 18
        });
    }

    /** å¤©åœ°å›¾æ ‡æ³¨å åŠ å±‚ */
    function createTdtLabelProvider() {
        return new Cesium.UrlTemplateImageryProvider({
            url: `https://t{s}.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${TDT_TOKEN}`,
            subdomains: ['0','1','2','3','4','5','6','7'],
            credit: 'å¤©åœ°å›¾æ ‡æ³¨',
            maximumLevel: 18
        });
    }

    // â”€â”€ åˆå§‹åŒ– Viewerï¼ˆé»˜è®¤å«æ˜Ÿå½±åƒï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const viewer = new Cesium.Viewer('cesiumContainer', {
        imageryProvider: createSatelliteProvider(),
        baseLayerPicker: false,
        terrainProvider: new Cesium.EllipsoidTerrainProvider(),
        timeline: false,
        animation: false,
        fullscreenButton: false,
        vrButton: false,
        geocoder: false,
        homeButton: true,
        infoBox: true,
        sceneModePicker: true,
        selectionIndicator: true,
        navigationHelpButton: false,
        navigationInstructionsInitiallyVisible: false
    });
    viewer.cesiumWidget.creditContainer.style.display = 'none';

    // â”€â”€ å›¾å±‚åˆ‡æ¢é€»è¾‘ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    let currentMap = 'satellite';

    /** åˆ‡æ¢åº•å›¾ */
    function switchMap(mapType) {
        // å…³é—­é¢æ¿
        closeLayerPanel();

        if (mapType === currentMap) return;

        // å¤©åœ°å›¾éœ€è¦ Token æ ¡éªŒ
        if (mapType === 'tdt' && TDT_TOKEN === 'YOUR_TIANDITU_TOKEN') {
            showInfo('âš ï¸ è¯·å…ˆåœ¨ index.html ä¸­å¡«å…¥å¤©åœ°å›¾ Token', 4000);
            return;
        }

        // æ›¿æ¢åº•å›¾å›¾å±‚
        viewer.imageryLayers.removeAll();
        if (mapType === 'satellite') {
            viewer.imageryLayers.addImageryProvider(createSatelliteProvider());
        } else if (mapType === 'street') {
            viewer.imageryLayers.addImageryProvider(createStreetProvider());
        } else if (mapType === 'tdt') {
            viewer.imageryLayers.addImageryProvider(createTdtProvider());
            viewer.imageryLayers.addImageryProvider(createTdtLabelProvider());
        }

        // æ›´æ–°é€‰ä¸­æ ·å¼
        ['satellite','street','tdt'].forEach(id => {
            document.getElementById(`opt-${id}`)
                .classList.toggle('active', id === mapType);
        });

        currentMap = mapType;
        const names = { satellite:'å«æ˜Ÿå½±åƒ', street:'è¡—é“åœ°å›¾', tdt:'å¤©åœ°å›¾' };
        showInfo(`å·²åˆ‡æ¢è‡³ ${names[mapType]}`, 1800);
    }

    // â”€â”€ å›¾å±‚é¢æ¿å¼€å…³ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    let layerPanelOpen = false;

    function toggleLayerPanel() {
        layerPanelOpen = !layerPanelOpen;
        document.getElementById('layerPanel')
            .classList.toggle('show', layerPanelOpen);
    }

    function closeLayerPanel() {
        layerPanelOpen = false;
        document.getElementById('layerPanel').classList.remove('show');
    }

    // ç‚¹å‡»åœ°å›¾å…¶ä»–åŒºåŸŸæ—¶å…³é—­é¢æ¿
    document.getElementById('cesiumContainer').addEventListener('click', closeLayerPanel);

    // â”€â”€ å®šä½ç›¸å…³å˜é‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    let locationMarker = null;
    let locationHistory = [];
    let trackLine = null;
    let isTracking = false;

    // åŠ è½½å®Œæˆ
    setTimeout(() => {
        document.getElementById('loading').style.display = 'none';
        logToAndroid('LocationMobileåœ°å›¾åŠ è½½å®Œæˆ');
    }, 2000);

    // åˆå§‹è§†è§’ï¼šä¸­å›½ä¸Šç©º
    viewer.camera.setView({
        destination: Cesium.Cartesian3.fromDegrees(105.0, 35.0, 5000000.0),
        orientation: { heading: 0.0, pitch: Cesium.Math.toRadians(-90.0), roll: 0.0 }
    });

    // â”€â”€ æŒ‰é’®åŠŸèƒ½ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    function requestLocation() {
        showInfo('æ­£åœ¨è·å–ä½ç½®â€¦');
        if (typeof Android !== 'undefined' && Android.getLocation) {
            Android.getLocation();
        } else {
            showInfo('è¯·åœ¨ LocationMobile åº”ç”¨ä¸­ä½¿ç”¨æ­¤åŠŸèƒ½', 3000);
        }
    }

    function toggleTracking() {
        const btn = document.getElementById('trackBtn');
        if (!isTracking) {
            if (typeof Android !== 'undefined' && Android.startTracking) {
                Android.startTracking();
                isTracking = true;
                btn.textContent = 'â¸ï¸ åœæ­¢è·Ÿè¸ª';
                btn.classList.add('tracking-on');
                showInfo('å¼€å§‹ä½ç½®è·Ÿè¸ª', 2000);
            }
        } else {
            if (typeof Android !== 'undefined' && Android.stopTracking) {
                Android.stopTracking();
                isTracking = false;
                btn.textContent = 'ğŸ¯ å¼€å§‹è·Ÿè¸ª';
                btn.classList.remove('tracking-on');
                showInfo('åœæ­¢ä½ç½®è·Ÿè¸ª', 2000);
            }
        }
    }

    function clearMarkers() {
        if (locationMarker) { viewer.entities.remove(locationMarker); locationMarker = null; }
        if (trackLine)      { viewer.entities.remove(trackLine);      trackLine = null; }
        locationHistory = [];
        showInfo('å·²æ¸…é™¤æ‰€æœ‰æ ‡è®°', 2000);
        logToAndroid('æ¸…é™¤æ‰€æœ‰æ ‡è®°');
    }

    // â”€â”€ ä½ç½®æ›´æ–°ä¸é£è¡Œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    /**
     * ç”± Android åŸç”Ÿè°ƒç”¨ï¼šæ›´æ–°ä½ç½®æ ‡è®°å¹¶é£è¡Œ
     * @param {number} longitude
     * @param {number} latitude
     * @param {number} altitude
     * @param {number} accuracy
     * @param {string} updateType  'single' | 'continuous'
     */
    function flyToLocation(longitude, latitude, altitude, accuracy = 0, updateType = 'single') {
        console.log(`ä½ç½®æ›´æ–°: ${longitude}, ${latitude}, alt=${altitude}, acc=${accuracy}, type=${updateType}`);

        const position = Cesium.Cartesian3.fromDegrees(longitude, latitude, altitude);
        locationHistory.push(position);

        // å•æ¬¡å®šä½ï¼šç§»é™¤æ—§æ ‡è®°
        if (updateType === 'single' && locationMarker) {
            viewer.entities.remove(locationMarker);
        }

        locationMarker = viewer.entities.add({
            name: 'å½“å‰ä½ç½®',
            position: position,
            point: {
                pixelSize: updateType === 'single' ? 16 : 12,
                color: updateType === 'single' ? Cesium.Color.fromCssColorString('#ff3b5c')
                                               : Cesium.Color.fromCssColorString('#38bdf8'),
                outlineColor: Cesium.Color.WHITE,
                outlineWidth: 3
            },
            ellipse: accuracy > 0 ? {
                semiMinorAxis: accuracy,
                semiMajorAxis: accuracy,
                material: Cesium.Color.fromCssColorString('#38bdf8').withAlpha(0.12),
                outline: true,
                outlineColor: Cesium.Color.fromCssColorString('#38bdf8').withAlpha(0.5),
                outlineWidth: 2
            } : undefined,
            label: {
                text: updateType === 'single' ? 'æˆ‘çš„ä½ç½®' : 'å½“å‰ä½ç½®',
                font: '13pt sans-serif',
                style: Cesium.LabelStyle.FILL_AND_OUTLINE,
                outlineWidth: 2,
                verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
                pixelOffset: new Cesium.Cartesian2(0, -22)
            },
            description: `<div style="padding:10px;font-family:sans-serif;font-size:13px;line-height:1.8;">
                <p><strong>ç»åº¦ï¼š</strong>${longitude.toFixed(6)}</p>
                <p><strong>çº¬åº¦ï¼š</strong>${latitude.toFixed(6)}</p>
                <p><strong>æµ·æ‹”ï¼š</strong>${altitude.toFixed(1)} ç±³</p>
                ${accuracy > 0 ? `<p><strong>ç²¾åº¦ï¼š</strong>Â±${accuracy.toFixed(0)} ç±³</p>` : ''}
                <p><strong>æ—¶é—´ï¼š</strong>${new Date().toLocaleString('zh-CN')}</p>
            </div>`
        });

        // æŒç»­è·Ÿè¸ªæ—¶æ›´æ–°è½¨è¿¹
        if (isTracking && locationHistory.length > 1) {
            updateTrackLine();
        }

        // â˜… è¿‘ä¹å‚ç›´ä¿¯è§†ï¼ˆpitch = -88Â°ï¼‰ï¼Œé«˜åº¦ 500m / 300m
        viewer.camera.flyTo({
            destination: Cesium.Cartesian3.fromDegrees(
                longitude, latitude,
                altitude + (updateType === 'single' ? 500 : 300)
            ),
            orientation: {
                heading: Cesium.Math.toRadians(0.0),
                pitch:   Cesium.Math.toRadians(-88.0),
                roll:    0.0
            },
            duration: updateType === 'single' ? 2.5 : 1.0
        });

        if (updateType === 'single') {
            showInfo(
                `ğŸ“ å®šä½æˆåŠŸ<br>` +
                `ç»åº¦ï¼š${longitude.toFixed(5)}<br>` +
                `çº¬åº¦ï¼š${latitude.toFixed(5)}<br>` +
                `ç²¾åº¦ï¼šÂ±${accuracy.toFixed(0)} ç±³`,
                4000
            );
        }
    }

    /** æ›´æ–°è½¨è¿¹çº¿ */
    function updateTrackLine() {
        if (trackLine) { viewer.entities.remove(trackLine); }
        trackLine = viewer.entities.add({
            name: 'ç§»åŠ¨è½¨è¿¹',
            polyline: {
                positions: locationHistory,
                width: 4,
                material: new Cesium.PolylineGlowMaterialProperty({
                    glowPower: 0.3,
                    color: Cesium.Color.fromCssColorString('#38bdf8')
                })
            }
        });
    }

    /** ä¿¡æ¯æ¡† */
    function showInfo(message, duration = 0) {
        const box = document.getElementById('infoBox');
        box.innerHTML = message;
        box.classList.add('show');
        if (duration > 0) {
            setTimeout(() => box.classList.remove('show'), duration);
        }
    }

    /** Android æ—¥å¿— */
    function logToAndroid(message) {
        if (typeof Android !== 'undefined' && Android.log) { Android.log(message); }
        console.log(message);
    }

    console.log('LocationMobileåœ°å›¾åˆå§‹åŒ–å®Œæˆ');
    logToAndroid('LocationMobileåœ°å›¾åˆå§‹åŒ–å®Œæˆ');
</script>
</body>
</html>